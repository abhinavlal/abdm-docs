+++
title = " Milestone 2"
date = 2023-03-13T14:30:25+05:30
weight = 6
chapter = true
pre = "<b>7.2</b>"
+++

# Milestone 2

**Milestone 2**: Building Health Information Provider (HIP) services to share digital records via any Personal Health Records (PHR) app. 

# Test Cases

| Test Case# | Test Title | Test Summary | Optional/Mandatory | Test Steps | Expected Result | Actual Result | Status | Notes |
| ----------- | ----------- | ----------- | ----------- |----------- | ----------- | ----------- | ----------- | ----------- |

USER_INIT_DISCOVER_CARE_CONTEXT_01 NEW | User should be able to discover their own health records at health facilities they have visited in the past|
User should be able to discover their own health records at health facilities they have visited in the past.|Mandatory|1. User logs in PHR app. 2. User seraches for health provider ( provider can be hospitals| labs| clinics| nursing home| doctor| govt health program| telemedicine provider) It is important that the HIP should be easily identifiable by the user to search for their health records. User can add a specific identifier provided by the health provider to improve discovery. (for example - Hospital Patient id). 3. User consents to sharing their demographic details with HIP. 4. HIP get Demographic information including verified and unverified identifier. 5. HIP searches their records for any of the verified identifers; Most commonly search should be first done on ABHA address; if no match then search with Mobile number. On mobile number match HIP to do a fuzzy logic match on matched records. 6. HIP does a fuzzy demographic match ( similarity on name ; +/-2 on age ; gender - exact match). 7. HIP returns list of care context for the matched user.| Records of patients already registered in EMR/.HMIS system should be discoverable if the demographic +mobile information matches. All records for the user, including historical records across the years should be discoverable. |Able to see the records||||



# API Collection

|| | | |
| ----------- | ----------- | ----------- | ----------- |
1|Session Api|{{GATEWAY_HOST}}/v0.5/sessions|
||||
||API|Callback API to gateway by HIP
2|User-initiated discovery & linking of health records |||
||||
2.1|Discovery of the patient’s information |{HIP_HOST}/v0.5/care-contexts/discover|{{GATEWAY_HOST}}/v0.5/care-contexts/on-discover
2.2|Link initiation|{HIP_HOST}/v0.5/links/link/init|{GATEWAY_HOST}/v0.5/links/link/on-init
2.3|Link Confirmation|{HIP_HOST}/v0.5/links/link/confirm|{GATEWAY_HOST}/v0.5/links/link/on-confirm
||||
|||APIs call on the Gateway|APIs that are expected to be available at the HIP end by the Gateway
3|HIP initiated linking of health records ( when ABHA address is available with HIP)|||
3.1|Get patient's authentication modes relevant to specified purpose|{GATEWAY_HOST}/v0.5/users/auth/fetch-modes|​{{HIP_HOST}}/v0.5/users/auth/on-fetch-modes
3.2|Initialize Authentication from HIP. Demographic auth mode is commonly used.|{GATEWAY_HOST}/v0.5/users/auth/init|​{{HIP_HOST}}/v0.5​/users​/auth​/on-init
3.3|Confirm authentication of users. Obtain linking token.|{GATEWAY_HOST}/v0.5/users/auth/confirm|​{{HIP_HOST}}/v0.5/users/auth/on-confirm
3.4|Notification API in case of DIRECT mode of authentication|{GATEWAY_HOST}/v0.5/users/auth/on-notify|​{{HIP_HOST}}/v0.5/users/auth/notify
3.5|When there is new health record for the patient, HIP to initiate care-context linking for patient using linking token|{{GATEWAY_HOST}}/v0.5/links/link/add-contexts|​{{HIP_HOST}}/v0.5/links/link/on-add-contexts
||||
4|HIP initiated notification for new health records ( when ABHA address is NOT available with HIP)|||
4.1|HIP has mobile number of patient but no ABHA address. HIP notifies ABDM when new health record is ready for sharing with patient|{{GATEWAY_HOST}}/v0.5/patients/SMS/notify2|​{{HIP_HOST}}//v0.5/patients/status/on-notify
||||
5|HIP initiated notification for new health records in already linked care context|||
5.1|New health record generated by HIP and HIP would like to include this record in already linked care context|{{GATEWAY_HOST}}/v0.5/links/context/notify|{{HIP_HOST}}/v0.5/links/context/on-notify
||||
6|Consent Flow|||
6.1|Notification of consents to health information providers consent request granted, consent revoked, consent expired.|{GATEWAY_HOST}/v0.5/consents/hip/on-notify|​{{HIP_HOST}}/v0.5//consents/hip/notify
||||
||API|Callback API
7|Data Request and Transfer |||
7.1|Health Information Data Request|{{HIP_HOST}}/v0.5/health-information/hip/request|{GATEWAY_HOST}/v0.5/health-information/hip/on-request
7.2|Transfer the data at Data Push URL| {Data Push URL} received on above call  /v0.5/health-information/hip/request |
7.3|Notification to gateway on Transfer of data to HIU|{GATEAY_HOST}/v0.5/health-information/notify|
||||
||API|Callback API by gateway
8|Share Patient Profile with HIP|||
8.1|sharing patient's profile details to HIP|{HIP_HOST}/v0.5/patients/profile/share|{GATEWAY_HOST}}/v0.5/patients/profile/on-share
||||
9|Status Notification (ACTIVE/DEACTIVATED/DELETED)|||
9.1|send patient's status (ACTIVE/DEACTIVATED/DELETED) to the HIP|{GATEWAY_HOST}}/v0.5/patients/status/on-notify|{HIP_HOST}/v0.5/patients/status/notify
||||
10|JWT Certificate Verification|||
10.1||{GATEWAY_HOST}}/v0.5/.well-known/openid-configuration|
10.2||{GATEWAY_HOST}}/v0.5/certs|
||||
11|Monitoring|||
11.1|Heartbeat monitoring|{GATEWAY_HOST}}/v0.5/heartbeat|
||||
||Total APIS|34||

