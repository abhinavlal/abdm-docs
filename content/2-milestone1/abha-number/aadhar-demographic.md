+++
title = "Using Aadhar Demographic"
date = 2023-03-16T09:30:25+05:30
weight = 3
chapter = true
pre = "<b>2.1.3 </b>"
+++

# Using Aadhar Demographic
|  Applicable To                             |   HMIS / LMIS (PVT)  |   Government Health App  |     
|-------------------------------|:----------------------:|:--------------------:|
|   Using Aadhar Demographic                      |  {{% badge color="red"%}}Not Applicable{{% /badge %}}       |  {{% badge style="blue" %}} Mandatory{{% /badge %}}        |  


## Functional Overview

Aadhaar Demographic authentication allows creation of a new ABHA number or retrival of an existing ABHA number given the Aadhaar number and Demographic details as per Aadhaar. This API also is useful for offline scenarios as the healthcare worker can capture the Aadhaar details when there is no connectivity and generate the ABHA number once connectivity is available. 

Applications used by health workers (like Asha, A&M) in their public applications must support this API. 

- Health worker is expected to capture the Aadhaar number, name, year of birth and gender as in Aadhaar card.
- These details can be physically captured on paper or in mobile application which works in offline mode as well. Consent of the user must always be obtained (in paper or offline apps) in the recommended language.
- When connectivity is available, the application calls the ABHA demographic API with the same (Aadhaar number, name, year of birth and gender) information.
- The ABHA system checks with UIDAI if the information provided is correct.
- The ABHA system also checks if an ABHA number has already been created in the past.
- The system returns the ABHA number (New or Existing).

When calling this API, care must be taken to ensure:
1. The correct state and district (LGD codes) of the beneficiary are passed.
2. The mobile number that is passed is assumed to be verified by the application and is not re-verified by ABHA.
3. Any ID being issed by the public health program (eg: PMJAY id, CoWin id, RCH Id) can be linked to the ABHA number
4. The ABDM client id used to call this API must have the *HidIntegratedProgram* role configured in sandbox / production.

## Test Cases

**Note:** ABHA creation through Demographic Auth/ Offline mode is currently available only for Government entities

|Functionality|Test Case|Steps to Execute|
| ----- | --- | ----- |
{{% badge style="blue" %}}Mandatory{{% /badge %}} Create ABHA Option (CRT_ABHA_301)|The system must provide an option to create ABHA through Aadhaar Demographic/ Offline Mode|
{{% badge style="blue" %}}Mandatory{{% /badge %}} Consent collection (CRT_ABHA_302)| The system must display the  consent language/ disclaimer language and collect user's consent as per the ABDM published  consent.|1. Read consent language. 2. Agree to the consent language (through 'I agree' checkbox or any other form of signature)|
{{% badge %}}Optional{{% /badge %}} Consent collection should be multilingual  (CRT_ABHA_303)|The system should be able to provide the consent in languages other than English also|1. Read consent language. 2. Agree to the consent language (through 'I agree' checkbox or any other form of signature)|
{{% badge %}}Optional{{% /badge %}} Aadhaar collection and Error Message (CRT_ABHA_304)|System must allow the user to enter Aadhaar Number and the system will display an error message for invalid Aadhaar Number|Enter Aadhaar number|
{{% badge %}}Optional{{% /badge %}} Demographic Information based authentication (CRT_ABHA_305)|System must verify the demographic information of the user against their Aadhaar|Enter name, date of birth and gender as per Aadhaar|
{{% badge %}}Optional{{% /badge %}} Profile Completion (CRT_ABHA_306)|System should accepts user's profile information - state, district, photo and mobile number|1. System auto-populates State,district information. 2. Verifies State and District information and enters Photo and mobile number|
{{% badge %}}Optional{{% /badge %}} Display of ABHA Number (CRT_ABHA_307)|System must display the created ABHA Number|System shows the 14-digit ABHA number and ABHA  address  generated|
{{% badge %}}Optional{{% /badge %}} View and Download ABHA details. (If integrators is generating ABHA card)  (CRT_ABHA_308)|System must have a provision to View / Download ABHA card |1. System should show the user their ABHA Card. 2. ABHA Card should be generated by API and should contain: ABHA Number (Mandatory), User Photo(Optional), ABHA QR code, date of birth and gender, ABHA Address|
{{% badge %}}Optional{{% /badge %}} View and Download ABHA details. (If integrators  is not  generating ABHA card)  (CRT_ABHA_309)| If Integrator is not generating ABHA card.|If Integrator is not generating ABHA card then They print the mentioned information on their own card: ABHA Number (Mandatory), ABHA Address|

## API Sequence Diagram

The sequence of APIs used via this method are shown in the diagram below:

{{< mermaid >}}
%%{init:{"fontSize": "1.0rem", "sequence":{"showSequenceNumbers":true}}}%%
sequenceDiagram
title Create ABHA Address using Demographic details (Offline)
Government Health Application (HIP)->>ABHA:Shares the demographic details
ABHA->>UIDAI:Requests for verification of details
UIDAI->>UIDAI:Details verified
UIDAI->>ABHA:Verifies user
Note over ABHA:Checks if thereâ€™s an existing ABHA
ABHA->>Government Health Application (HIP): Returns ABHA Address
Note right of Government Health Application (HIP):Returns already created ABHA or creates new ABHA
{{< /mermaid >}}

{{%notice%}} [Please check the roles assigned to your client id by decoding your JWT Token](/abdm-docs/1-basics/verify_sandbox_access/#check-your-jwt-token) 

If you dont see the *HidIntegratedProgram* role write to {{%icon icon="envelope" %}} integration.support@nha.gov.in via your state ABDM nodal officer 
1. Request for addition of the HidIntegratedProgram role to your client id
2. Request NHA to configure a benefit name specific to your government program
{{%/notice%}}
## API Information Request Response 

{{% badge icon="info-circle" %}}Note{{% /badge %}} Kindly check the schema tab for the list of mandatory & optional fields in request body.

**1. Create or Get ABHA Number using Aadhaar Demo Auth.**

**BASE URL:** https://healthidsbx.abdm.gov.in/api

{{< swaggermin src="/abdm-docs/Yaml/abdm-abha-service-1_0.yml" api="POST /v1/hid/benefit/createHealthId/demo/auth$" >}}

**2. Update ABHA Number Information**

**BASE URL:** https://healthidsbx.abdm.gov.in/api

{{< swaggermin src="/abdm-docs/Yaml/abdm-abha-service-1_0.yml" api="POST /v1/hid/benefit/update/profile$" >}}
